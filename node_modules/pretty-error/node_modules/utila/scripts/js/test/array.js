var array;

require('./_prepare');

array = mod('array');

test('from', function() {
  array.from([1]).should.be.an.instanceOf(Array);
  return array.from([1])[0].should.equal(1);
});

test('pluck', function() {
  var a, after;
  a = [0, 1, 2, 3];
  after = array.pluck(a, 1);
  after.length.should.equal(3);
  after[0].should.equal(0);
  after[1].should.equal(2);
  after[2].should.equal(3);
  return after.should.equal(a);
});

test('pluckMultiple', function() {
  var a;
  a = [0, 1, 2, 3, 4, 5, 6];
  array.pluckMultiple(a, [0, 4, 2, 6]);
  a.length.should.equal(3);
  a[0].should.equal(1);
  a[1].should.equal(3);
  return a[2].should.equal(5);
});

test('pluckItem', function() {
  var a;
  a = [0, 1, 2, 3, 2, 4, 2];
  array.pluckItem(a, 2);
  a[0].should.equal(0);
  a[1].should.equal(1);
  a[2].should.equal(3);
  a[3].should.equal(4);
  return array.pluckItem([1], 2).length.should.equal(1);
});

test('pluckOneItem', function() {
  var a;
  a = [0, 1, 2, 3, 2, 4, 2];
  array.pluckOneItem(a, 2);
  a[0].should.equal(0);
  a[1].should.equal(1);
  a[2].should.equal(3);
  a[3].should.equal(2);
  a[4].should.equal(4);
  a[5].should.equal(2);
  a = [1, 2];
  array.pluckOneItem(a, 1);
  a.length.should.equal(1);
  a[0].should.equal(2);
  array.pluckOneItem([], 1).length.should.equal(0);
  return array.pluckOneItem([1], 2).length.should.equal(1);
});

test('plcukByCallback', function() {
  var a;
  a = [0, 1, 2, 3];
  array.pluckByCallback(a, function(val, i) {
    if (val === 2) {
      return true;
    }
    return false;
  });
  a[0].should.equal(0);
  a[1].should.equal(1);
  return a[2].should.equal(3);
});

test('injectByCallback', function() {
  var a, shouldInject;
  shouldInject = function(valA, valB, toInject) {
    if (valA == null) {
      if (toInject <= valB) {
        return true;
      }
      return false;
    }
    if (valB == null) {
      if (valA <= toInject) {
        return true;
      }
      return false;
    }
    if ((valA <= toInject && toInject <= valB)) {
      return true;
    }
    return false;
  };
  a = [0.5, 1, 2.5, 2.5, 2.75, 2.75, 3];
  array.injectByCallback(a, 0, shouldInject);
  a[0].should.equal(0);
  a[1].should.equal(0.5);
  a[7].should.equal(3);
  a = [0.5, 1, 2.5, 2.5, 2.75, 2.75, 3];
  array.injectByCallback(a, 2.7, shouldInject);
  a[0].should.equal(0.5);
  a[4].should.equal(2.7);
  a[5].should.equal(2.75);
  a[7].should.equal(3);
  a = [0.5, 1, 2.5, 2.5, 2.75, 2.75, 3];
  array.injectByCallback(a, 3.2, shouldInject);
  a[0].should.equal(0.5);
  a[4].should.equal(2.75);
  a[6].should.equal(3);
  return a[7].should.equal(3.2);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJyYXkuanMiLCJzb3VyY2VSb290IjoiLi5cXC4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHRlc3RcXGFycmF5LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLEtBQUE7O0FNQUEsT01BQSxDTUFRLFlNQVIsQ0FBQSxDQUFBOztBTUVBLEtNQUEsR01BUSxHTUFBLENNQUksT01BSixDQUZSLENBQUE7O0FNSUEsSU1BQSxDTUFLLE1NQUwsRU1BYSxTTUFBLEdNQUE7QU1FWixFTUFBLEtNQUssQ01BQyxJTUFOLENNQVcsQ01BQyxDTUFELENNQVgsQ01BZSxDTUFDLE1NQU0sQ01BQyxFTUFFLENNQUMsRU1BRSxDTUFDLFVNQTdCLENNQXdDLEtNQXhDLENNQUEsQ01BQTtTTUNBLEtNQUssQ01BQyxJTUFOLENNQVcsQ01BQyxDTUFELENNQVgsQ01BZ0IsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BMUIsQ01BZ0MsQ01BaEMsRU1IWTtBTUFBLENNQWIsQ0FKQSxDQUFBOztBTXNCQSxJTUFBLENNQUssT01BTCxFTUFjLFNNQUEsR01BQTtBTUViLE1NQUEsUU1BQTtBTUFBLEVNQUEsQ01BQSxHTUFJLENNQUMsQ01BRCxFTUFJLENNQUosRU1BTyxDTUFQLEVNQVUsQ01BVixDTUFKLENNQUE7QU1BQSxFTUVBLEtNQUEsR01BUSxLTUFLLENNQUMsS01BTixDTUFZLENNQVosRU1BZSxDTUFmLENNRlIsQ01BQTtBTUFBLEVNSUEsS01BSyxDTUFDLE1NQU0sQ01BQyxNTUFNLENNQUMsS01BcEIsQ01BMEIsQ01BMUIsQ01KQSxDTUFBO0FNQUEsRU1NQSxLTUFNLENNQUEsQ01BQSxDTUFFLENNQUMsTU1BTSxDTUFDLEtNQWhCLENNQXNCLENNQXRCLENNTkEsQ01BQTtBTUFBLEVNT0EsS01BTSxDTUFBLENNQUEsQ01BRSxDTUFDLE1NQU0sQ01BQyxLTUFoQixDTUFzQixDTUF0QixDTVBBLENNQUE7QU1BQSxFTVFBLEtNQU0sQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BaEIsQ01Bc0IsQ01BdEIsQ01SQSxDTUFBO1NNU0EsS01BSyxDTUFDLE1NQU0sQ01BQyxLTUFiLENNQW1CLENNQW5CLEVNWGE7QU1BQSxDTUFkLENBdEJBLENBQUE7O0FNbUNBLElNQUEsQ01BSyxlTUFMLEVNQXNCLFNNQUEsR01BQTtBTUVyQixNTUFBLENNQUE7QU1BQSxFTUFBLENNQUEsR01BSSxDTUFDLENNQUQsRU1BSSxDTUFKLEVNQU8sQ01BUCxFTUFVLENNQVYsRU1BYSxDTUFiLEVNQWdCLENNQWhCLEVNQW1CLENNQW5CLENNQUosQ01BQTtBTUFBLEVNRUEsS01BSyxDTUFDLGFNQU4sQ01Bb0IsQ01BcEIsRU1BdUIsQ01BQyxDTUFELEVNQUksQ01BSixFTUFPLENNQVAsRU1BVSxDTUFWLENNQXZCLENNRkEsQ01BQTtBTUFBLEVNSUEsQ01BQyxDTUFDLE1NQU0sQ01BQyxNTUFNLENNQUMsS01BaEIsQ01Bc0IsQ01BdEIsQ01KQSxDTUFBO0FNQUEsRU1LQSxDTUFFLENNQUEsQ01BQSxDTUFFLENNQUMsTU1BTSxDTUFDLEtNQVosQ01Ba0IsQ01BbEIsQ01MQSxDTUFBO0FNQUEsRU1NQSxDTUFFLENNQUEsQ01BQSxDTUFFLENNQUMsTU1BTSxDTUFDLEtNQVosQ01Ba0IsQ01BbEIsQ01OQSxDTUFBO1NNT0EsQ01BRSxDTUFBLENNQUEsQ01BRSxDTUFDLE1NQU0sQ01BQyxLTUFaLENNQWtCLENNQWxCLEVNVHFCO0FNQUEsQ01BdEIsQ0FuQ0EsQ0FBQTs7QU04Q0EsSU1BQSxDTUFLLFdNQUwsRU1Ba0IsU01BQSxHTUFBO0FNRWpCLE1NQUEsQ01BQTtBTUFBLEVNQUEsQ01BQSxHTUFJLENNQUMsQ01BRCxFTUFJLENNQUosRU1BTyxDTUFQLEVNQVUsQ01BVixFTUFhLENNQWIsRU1BZ0IsQ01BaEIsRU1BbUIsQ01BbkIsQ01BSixDTUFBO0FNQUEsRU1FQSxLTUFLLENNQUMsU01BTixDTUFnQixDTUFoQixFTUFtQixDTUFuQixDTUZBLENNQUE7QU1BQSxFTUlBLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixDTUFsQixDTUpBLENNQUE7QU1BQSxFTUtBLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixDTUFsQixDTUxBLENNQUE7QU1BQSxFTU1BLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixDTUFsQixDTU5BLENNQUE7QU1BQSxFTU9BLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixDTUFsQixDTVBBLENNQUE7U01TQSxLTUFLLENNQUMsU01BTixDTUFnQixDTUFDLENNQUQsQ01BaEIsRU1BcUIsQ01BckIsQ01BdUIsQ01BQyxNTUFNLENNQUMsTU1BTSxDTUFDLEtNQXRDLENNQTRDLENNQTVDLEVNWGlCO0FNQUEsQ01BbEIsQ0E5Q0EsQ0FBQTs7QU00REEsSU1BQSxDTUFLLGNNQUwsRU1BcUIsU01BQSxHTUFBO0FNRXBCLE1NQUEsQ01BQTtBTUFBLEVNQUEsQ01BQSxHTUFJLENNQUMsQ01BRCxFTUFJLENNQUosRU1BTyxDTUFQLEVNQVUsQ01BVixFTUFhLENNQWIsRU1BZ0IsQ01BaEIsRU1BbUIsQ01BbkIsQ01BSixDTUFBO0FNQUEsRU1FQSxLTUFLLENNQUMsWU1BTixDTUFtQixDTUFuQixFTUFzQixDTUF0QixDTUZBLENNQUE7QU1BQSxFTUlBLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixDTUFsQixDTUpBLENNQUE7QU1BQSxFTUtBLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixDTUFsQixDTUxBLENNQUE7QU1BQSxFTU1BLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixDTUFsQixDTU5BLENNQUE7QU1BQSxFTU9BLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixDTUFsQixDTVBBLENNQUE7QU1BQSxFTVFBLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixDTUFsQixDTVJBLENNQUE7QU1BQSxFTVNBLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixDTUFsQixDTVRBLENNQUE7QU1BQSxFTVdBLENNQUEsR01BSSxDTUFDLENNQUQsRU1BSSxDTUFKLENNWEosQ01BQTtBTUFBLEVNYUEsS01BSyxDTUFDLFlNQU4sQ01BbUIsQ01BbkIsRU1Bc0IsQ01BdEIsQ01iQSxDTUFBO0FNQUEsRU1lQSxDTUFDLENNQUMsTU1BTSxDTUFDLE1NQU0sQ01BQyxLTUFoQixDTUFzQixDTUF0QixDTWZBLENNQUE7QU1BQSxFTWdCQSxDTUFFLENNQUEsQ01BQSxDTUFFLENNQUMsTU1BTSxDTUFDLEtNQVosQ01Ba0IsQ01BbEIsQ01oQkEsQ01BQTtBTUFBLEVNa0JBLEtNQUssQ01BQyxZTUFOLENNQW1CLEVNQW5CLEVNQXVCLENNQXZCLENNQXlCLENNQUMsTU1BTSxDTUFDLE1NQU0sQ01BQyxLTUF4QyxDTUE4QyxDTUE5QyxDTWxCQSxDTUFBO1NNb0JBLEtNQUssQ01BQyxZTUFOLENNQW1CLENNQUMsQ01BRCxDTUFuQixFTUF3QixDTUF4QixDTUEwQixDTUFDLE1NQU0sQ01BQyxNTUFNLENNQUMsS01BekMsQ01BK0MsQ01BL0MsRU10Qm9CO0FNQUEsQ01BckIsQ0E1REEsQ0FBQTs7QU1vRkEsSU1BQSxDTUFLLGlCTUFMLEVNQXdCLFNNQUEsR01BQTtBTUV2QixNTUFBLENNQUE7QU1BQSxFTUFBLENNQUEsR01BSSxDTUFDLENNQUQsRU1BSSxDTUFKLEVNQU8sQ01BUCxFTUFVLENNQVYsQ01BSixDTUFBO0FNQUEsRU1FQSxLTUFLLENNQUMsZU1BTixDTUFzQixDTUF0QixFTUF5QixTTUFDLEdNQUQsRU1BTSxDTUFOLEdNQUE7QU1FeEIsSU1BQSxJTUFjLEdNQUEsS01BTyxDTUFyQjtBTUFBLGFNQU8sSU1BUCxDTUFBO0tNQUE7QU1FQSxXTUFPLEtNQVAsQ01Kd0I7RU1BQSxDTUF6QixDTUZBLENNQUE7QU1BQSxFTVFBLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixDTUFsQixDTVJBLENNQUE7QU1BQSxFTVNBLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixDTUFsQixDTVRBLENNQUE7U01VQSxDTUFFLENNQUEsQ01BQSxDTUFFLENNQUMsTU1BTSxDTUFDLEtNQVosQ01Ba0IsQ01BbEIsRU1adUI7QU1BQSxDTUF4QixDQXBGQSxDQUFBOztBTWtHQSxJTUFBLENNQUssa0JNQUwsRU1BeUIsU01BQSxHTUFBO0FNRXhCLE1NQUEsZU1BQTtBTUFBLEVNQUEsWU1BQSxHTUFlLFNNQUMsSU1BRCxFTUFPLElNQVAsRU1BYSxRTUFiLEdNQUE7QU1FZCxJTUFBLElNQU8sWU1BUDtBTUVDLE1NQUEsSU1BYyxRTUFBLElNQVksSU1BMUI7QU1BQSxlTUFPLElNQVAsQ01BQTtPTUFBO0FNRUEsYU1BTyxLTUFQLENNSkQ7S01BQTtBTU1BLElNQUEsSU1BTyxZTUFQO0FNRUMsTU1BQSxJTUFjLElNQUEsSU1BUSxRTUF0QjtBTUFBLGVNQU8sSU1BUCxDTUFBO09NQUE7QU1FQSxhTUFPLEtNQVAsQ01KRDtLTU5BO0FNWUEsSU1BQSxJTUFjLENNQUEsSU1BQSxJTUFRLFFNQVIsSU1BUSxRTUFSLElNQW9CLElNQXBCLENNQWQ7QU1BQSxhTUFPLElNQVAsQ01BQTtLTVpBO0FNY0EsV01BTyxLTUFQLENNaEJjO0VNQUEsQ01BZixDTUFBO0FNQUEsRU1rQkEsQ01BQSxHTUFJLENNQUMsR01BRCxFTUFNLENNQU4sRU1BUyxHTUFULEVNQWMsR01BZCxFTUFtQixJTUFuQixFTUF5QixJTUF6QixFTUErQixDTUEvQixDTWxCSixDTUFBO0FNQUEsRU1vQkEsS01BSyxDTUFDLGdCTUFOLENNQXVCLENNQXZCLEVNQTBCLENNQTFCLEVNQTZCLFlNQTdCLENNcEJBLENNQUE7QU1BQSxFTXNCQSxDTUFFLENNQUEsQ01BQSxDTUFFLENNQUMsTU1BTSxDTUFDLEtNQVosQ01Ba0IsQ01BbEIsQ010QkEsQ01BQTtBTUFBLEVNdUJBLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixHTUFsQixDTXZCQSxDTUFBO0FNQUEsRU13QkEsQ01BRSxDTUFBLENNQUEsQ01BRSxDTUFDLE1NQU0sQ01BQyxLTUFaLENNQWtCLENNQWxCLENNeEJBLENNQUE7QU1BQSxFTTBCQSxDTUFBLEdNQUksQ01BQyxHTUFELEVNQU0sQ01BTixFTUFTLEdNQVQsRU1BYyxHTUFkLEVNQW1CLElNQW5CLEVNQXlCLElNQXpCLEVNQStCLENNQS9CLENNMUJKLENNQUE7QU1BQSxFTTRCQSxLTUFLLENNQUMsZ0JNQU4sQ01BdUIsQ01BdkIsRU1BMEIsR01BMUIsRU1BK0IsWU1BL0IsQ001QkEsQ01BQTtBTUFBLEVNOEJBLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixHTUFsQixDTTlCQSxDTUFBO0FNQUEsRU0rQkEsQ01BRSxDTUFBLENNQUEsQ01BRSxDTUFDLE1NQU0sQ01BQyxLTUFaLENNQWtCLEdNQWxCLENNL0JBLENNQUE7QU1BQSxFTWdDQSxDTUFFLENNQUEsQ01BQSxDTUFFLENNQUMsTU1BTSxDTUFDLEtNQVosQ01Ba0IsSU1BbEIsQ01oQ0EsQ01BQTtBTUFBLEVNaUNBLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixDTUFsQixDTWpDQSxDTUFBO0FNQUEsRU1tQ0EsQ01BQSxHTUFJLENNQUMsR01BRCxFTUFNLENNQU4sRU1BUyxHTUFULEVNQWMsR01BZCxFTUFtQixJTUFuQixFTUF5QixJTUF6QixFTUErQixDTUEvQixDTW5DSixDTUFBO0FNQUEsRU1xQ0EsS01BSyxDTUFDLGdCTUFOLENNQXVCLENNQXZCLEVNQTBCLEdNQTFCLEVNQStCLFlNQS9CLENNckNBLENNQUE7QU1BQSxFTXVDQSxDTUFFLENNQUEsQ01BQSxDTUFFLENNQUMsTU1BTSxDTUFDLEtNQVosQ01Ba0IsR01BbEIsQ012Q0EsQ01BQTtBTUFBLEVNd0NBLENNQUUsQ01BQSxDTUFBLENNQUUsQ01BQyxNTUFNLENNQUMsS01BWixDTUFrQixJTUFsQixDTXhDQSxDTUFBO0FNQUEsRU15Q0EsQ01BRSxDTUFBLENNQUEsQ01BRSxDTUFDLE1NQU0sQ01BQyxLTUFaLENNQWtCLENNQWxCLENNekNBLENNQUE7U00wQ0EsQ01BRSxDTUFBLENNQUEsQ01BRSxDTUFDLE1NQU0sQ01BQyxLTUFaLENNQWtCLEdNQWxCLEVNNUN3QjtBTUFBLENNQXpCLENBbEdBLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGFycmF5ID1cblxuXHQjIyNcblx0VHJpZXMgdG8gdHVybiBhbnl0aGluZyBpbnRvIGFuIGFycmF5LlxuXHQjIyNcblx0ZnJvbTogKHIpIC0+XG5cblx0XHRBcnJheTo6c2xpY2UuY2FsbCByXG5cblx0IyMjXG5cdENsb25lIG9mIGFuIGFycmF5LiBQcm9wZXJ0aWVzIHdpbGwgYmUgc2hhbGxvdyBjb3BpZXMuXG5cdCMjI1xuXHRzaW1wbGVDbG9uZTogKGEpIC0+XG5cblx0XHRhLnNsaWNlIDBcblxuXHRzaGFsbG93RXF1YWw6IChhMSwgYTIpIC0+XG5cblx0XHRyZXR1cm4gbm8gdW5sZXNzIEFycmF5LmlzQXJyYXkoYTEpIGFuZCBBcnJheS5pc0FycmF5KGEyKSBhbmQgYTEubGVuZ3RoIGlzIGEyLmxlbmd0aFxuXG5cdFx0Zm9yIHZhbCwgaSBpbiBhMVxuXG5cdFx0XHRyZXR1cm4gbm8gdW5sZXNzIGEyW2ldIGlzIHZhbFxuXG5cdFx0eWVzXG5cblx0cGx1Y2s6IChhLCBpKSAtPlxuXG5cdFx0cmV0dXJuIGEgaWYgYS5sZW5ndGggPCAxXG5cblxuXHRcdGZvciB2YWx1ZSwgaW5kZXggaW4gYVxuXG5cdFx0XHRpZiBpbmRleCA+IGlcblxuXHRcdFx0XHRhW2luZGV4IC0gMV0gPSBhW2luZGV4XVxuXG5cdFx0YS5sZW5ndGggPSBhLmxlbmd0aCAtIDFcblxuXHRcdGFcblxuXHRwbHVja0l0ZW06IChhLCBpdGVtKSAtPlxuXG5cdFx0cmV0dXJuIGEgaWYgYS5sZW5ndGggPCAxXG5cblxuXHRcdHJlbW92ZWQgPSAwXG5cblx0XHRmb3IgdmFsdWUsIGluZGV4IGluIGFcblxuXHRcdFx0aWYgdmFsdWUgaXMgaXRlbVxuXG5cdFx0XHRcdHJlbW92ZWQrK1xuXG5cdFx0XHRcdGNvbnRpbnVlXG5cblx0XHRcdGlmIHJlbW92ZWQgaXNudCAwXG5cblx0XHRcdFx0YVtpbmRleCAtIHJlbW92ZWRdID0gYVtpbmRleF1cblxuXHRcdGEubGVuZ3RoID0gYS5sZW5ndGggLSByZW1vdmVkIGlmIHJlbW92ZWQgPiAwXG5cblx0XHRhXG5cblx0cGx1Y2tPbmVJdGVtOiAoYSwgaXRlbSkgLT5cblxuXHRcdHJldHVybiBhIGlmIGEubGVuZ3RoIDwgMVxuXG5cdFx0cmVhY2hlZCA9IG5vXG5cblx0XHRmb3IgdmFsdWUsIGluZGV4IGluIGFcblxuXHRcdFx0aWYgbm90IHJlYWNoZWRcblxuXHRcdFx0XHRpZiB2YWx1ZSBpcyBpdGVtXG5cblx0XHRcdFx0XHRyZWFjaGVkID0geWVzXG5cblx0XHRcdFx0XHRjb250aW51ZVxuXG5cdFx0XHRlbHNlXG5cblx0XHRcdFx0YVtpbmRleCAtIDFdID0gYVtpbmRleF1cblxuXHRcdGEubGVuZ3RoID0gYS5sZW5ndGggLSAxIGlmIHJlYWNoZWRcblxuXHRcdGFcblxuXHRwbHVja0J5Q2FsbGJhY2s6IChhLCBjYikgLT5cblxuXHRcdHJldHVybiBhIGlmIGEubGVuZ3RoIDwgMVxuXG5cdFx0cmVtb3ZlZCA9IDBcblxuXHRcdGZvciB2YWx1ZSwgaW5kZXggaW4gYVxuXG5cdFx0XHRpZiBjYiB2YWx1ZSwgaW5kZXhcblxuXHRcdFx0XHRyZW1vdmVkKytcblxuXHRcdFx0XHRjb250aW51ZVxuXG5cdFx0XHRpZiByZW1vdmVkIGlzbnQgMFxuXG5cdFx0XHRcdGFbaW5kZXggLSByZW1vdmVkXSA9IGFbaW5kZXhdXG5cblx0XHRpZiByZW1vdmVkID4gMFxuXG5cdFx0XHRhLmxlbmd0aCA9IGEubGVuZ3RoIC0gcmVtb3ZlZFxuXG5cdFx0YVxuXG5cdHBsdWNrTXVsdGlwbGU6IChhcnJheSwgaW5kZXhlc1RvUmVtb3ZlKSAtPlxuXG5cdFx0cmV0dXJuIGFycmF5IGlmIGFycmF5Lmxlbmd0aCA8IDFcblxuXHRcdHJlbW92ZWRTb0ZhciA9IDBcblxuXHRcdGluZGV4ZXNUb1JlbW92ZS5zb3J0KClcblxuXHRcdGZvciBpIGluIGluZGV4ZXNUb1JlbW92ZVxuXG5cdFx0XHRAcGx1Y2sgYXJyYXksIGkgLSByZW1vdmVkU29GYXJcblxuXHRcdFx0cmVtb3ZlZFNvRmFyKytcblxuXHRcdGFycmF5XG5cblx0aW5qZWN0QnlDYWxsYmFjazogKGEsIHRvSW5qZWN0LCBzaG91bGRJbmplY3QpIC0+XG5cblx0XHR2YWxBID0gbnVsbFxuXG5cdFx0dmFsQiA9IG51bGxcblxuXHRcdGxlbiA9IGEubGVuZ3RoXG5cblx0XHRpZiBsZW4gPCAxXG5cblx0XHRcdGEucHVzaCB0b0luamVjdFxuXG5cdFx0XHRyZXR1cm4gYVxuXG5cblx0XHRmb3IgdmFsLCBpIGluIGFcblxuXHRcdFx0dmFsQSA9IHZhbEJcblxuXHRcdFx0dmFsQiA9IHZhbFxuXG5cdFx0XHRpZiBzaG91bGRJbmplY3QgdmFsQSwgdmFsQiwgdG9JbmplY3RcblxuXHRcdFx0XHRyZXR1cm4gYS5zcGxpY2UgaSwgMCwgdG9JbmplY3RcblxuXHRcdGEucHVzaCB0b0luamVjdFxuXG5cdFx0YVxuXG5cdGluamVjdEluSW5kZXg6IChhLCBpbmRleCwgdG9JbmplY3QpIC0+XG5cblx0XHRsZW4gPSBhLmxlbmd0aFxuXG5cdFx0aSA9IGluZGV4XG5cblx0XHRpZiBsZW4gPCAxXG5cblx0XHRcdGEucHVzaCB0b0luamVjdFxuXG5cdFx0XHRyZXR1cm4gYVxuXG5cdFx0dG9QdXQgPSB0b0luamVjdFxuXG5cdFx0dG9QdXROZXh0ID0gbnVsbFxuXG5cdFx0YGZvcig7IGkgPD0gbGVuOyBpKyspe1xuXG5cdFx0XHR0b1B1dE5leHQgPSBhW2ldO1xuXG5cdFx0XHRhW2ldID0gdG9QdXQ7XG5cblx0XHRcdHRvUHV0ID0gdG9QdXROZXh0O1xuXG5cdFx0fWBcblxuXHRcdCMgYVtpXSA9IHRvUHV0XG5cblx0XHRudWxsIiwibW9kdWxlLmV4cG9ydHMgPSBjbGFzc2ljID0ge31cblxuIyBMaXR0bGUgaGVscGVyIGZvciBtaXhpbnMgZnJvbSBDb2ZmZWVTY3JpcHQgRkFRLFxuIyBjb3VydGVzeSBvZiBTZXRoYXVydXMgKGh0dHA6Ly9naXRodWIuY29tL3NldGhhdXJ1cylcbmNsYXNzaWMuaW1wbGVtZW50ID0gKG1peGlucy4uLiwgY2xhc3NSZWZlcmVuY2UpIC0+XG5cblx0Zm9yIG1peGluIGluIG1peGluc1xuXG5cdFx0Y2xhc3NQcm90byA9IGNsYXNzUmVmZXJlbmNlOjpcblxuXHRcdGZvciBtZW1iZXIgb2YgbWl4aW46OlxuXG5cdFx0XHR1bmxlc3MgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciBjbGFzc1Byb3RvLCBtZW1iZXJcblxuXHRcdFx0XHRkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciBtaXhpbjo6LCBtZW1iZXJcblxuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkgY2xhc3NQcm90bywgbWVtYmVyLCBkZXNjXG5cblx0Y2xhc3NSZWZlcmVuY2VcblxuY2xhc3NpYy5taXggPSAobWl4aW5zLi4uLCBjbGFzc1JlZmVyZW5jZSkgLT5cblxuXHRjbGFzc1Byb3RvID0gY2xhc3NSZWZlcmVuY2U6OlxuXG5cdGNsYXNzUmVmZXJlbmNlLl9fbWl4aW5DbG9uZXJzID0gW11cblxuXHRjbGFzc1JlZmVyZW5jZS5fX2FwcGx5Q2xvbmVyc0ZvciA9IChpbnN0YW5jZSwgYXJncyA9IG51bGwpIC0+XG5cblx0XHRmb3IgY2xvbmVyIGluIGNsYXNzUmVmZXJlbmNlLl9fbWl4aW5DbG9uZXJzXG5cblx0XHRcdGNsb25lci5hcHBseSBpbnN0YW5jZSwgYXJnc1xuXG5cdFx0cmV0dXJuXG5cblx0Y2xhc3NSZWZlcmVuY2UuX19taXhpbkluaXRpYWxpemVycyA9IFtdXG5cblx0Y2xhc3NSZWZlcmVuY2UuX19pbml0TWl4aW5zRm9yID0gKGluc3RhbmNlLCBhcmdzID0gbnVsbCkgLT5cblxuXHRcdGZvciBpbml0aWFsaXplciBpbiBjbGFzc1JlZmVyZW5jZS5fX21peGluSW5pdGlhbGl6ZXJzXG5cblx0XHRcdGluaXRpYWxpemVyLmFwcGx5IGluc3RhbmNlLCBhcmdzXG5cblx0XHRyZXR1cm5cblxuXHRjbGFzc1JlZmVyZW5jZS5fX21peGluUXVpdHRlcnMgPSBbXVxuXG5cdGNsYXNzUmVmZXJlbmNlLl9fYXBwbHlRdWl0dGVyc0ZvciA9IChpbnN0YW5jZSwgYXJncyA9IG51bGwpIC0+XG5cblx0XHRmb3IgcXVpdHRlciBpbiBjbGFzc1JlZmVyZW5jZS5fX21peGluUXVpdHRlcnNcblxuXHRcdFx0cXVpdHRlci5hcHBseSBpbnN0YW5jZSwgYXJnc1xuXG5cdFx0cmV0dXJuXG5cblx0Zm9yIG1peGluIGluIG1peGluc1xuXG5cdFx0dW5sZXNzIG1peGluLmNvbnN0cnVjdG9yIGluc3RhbmNlb2YgRnVuY3Rpb25cblxuXHRcdFx0dGhyb3cgRXJyb3IgXCJNaXhpbiBzaG91bGQgYmUgYSBmdW5jdGlvblwiXG5cblx0XHRmb3IgbWVtYmVyIG9mIG1peGluOjpcblxuXHRcdFx0aWYgbWVtYmVyLnN1YnN0cigwLCAxMSkgaXMgJ19faW5pdE1peGluJ1xuXG5cdFx0XHRcdGNsYXNzUmVmZXJlbmNlLl9fbWl4aW5Jbml0aWFsaXplcnMucHVzaCBtaXhpbjo6W21lbWJlcl1cblxuXHRcdFx0XHRjb250aW51ZVxuXG5cdFx0XHRlbHNlIGlmIG1lbWJlci5zdWJzdHIoMCwgMTEpIGlzICdfX2Nsb25lckZvcidcblxuXHRcdFx0XHRjbGFzc1JlZmVyZW5jZS5fX21peGluQ2xvbmVycy5wdXNoIG1peGluOjpbbWVtYmVyXVxuXG5cdFx0XHRcdGNvbnRpbnVlXG5cblx0XHRcdGVsc2UgaWYgbWVtYmVyLnN1YnN0cigwLCAxMikgaXMgJ19fcXVpdHRlckZvcidcblxuXHRcdFx0XHRjbGFzc1JlZmVyZW5jZS5fX21peGluUXVpdHRlcnMucHVzaCBtaXhpbjo6W21lbWJlcl1cblxuXHRcdFx0XHRjb250aW51ZVxuXG5cdFx0XHR1bmxlc3MgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciBjbGFzc1Byb3RvLCBtZW1iZXJcblxuXHRcdFx0XHRkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciBtaXhpbjo6LCBtZW1iZXJcblxuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkgY2xhc3NQcm90bywgbWVtYmVyLCBkZXNjXG5cblx0Y2xhc3NSZWZlcmVuY2UiLCJfY29tbW9uID0gcmVxdWlyZSAnLi9fY29tbW9uJ1xuXG5tb2R1bGUuZXhwb3J0cyA9IG9iamVjdCA9XG5cblx0aXNCYXJlT2JqZWN0OiBfY29tbW9uLmlzQmFyZU9iamVjdC5iaW5kIF9jb21tb25cblxuXHQjIyNcblx0aWYgb2JqZWN0IGlzIGFuIGluc3RhbmNlIG9mIGEgY2xhc3Ncblx0IyMjXG5cdGlzSW5zdGFuY2U6ICh3aGF0KSAtPlxuXG5cdFx0bm90IEBpc0JhcmVPYmplY3Qgd2hhdFxuXG5cdCMjI1xuXHRBbGlhcyB0byBfY29tbW9uLnR5cGVPZlxuXHQjIyNcblx0dHlwZU9mOiBfY29tbW9uLnR5cGVPZi5iaW5kIF9jb21tb25cblxuXHQjIyNcblx0QWxpYXMgdG8gX2NvbW1vbi5jbG9uZVxuXHQjIyNcblx0Y2xvbmU6IF9jb21tb24uY2xvbmUuYmluZCBfY29tbW9uXG5cblx0IyMjXG5cdEVtcHRpZXMgYW4gb2JqZWN0IG9mIGl0cyBwcm9wZXJ0aWVzLlxuXHQjIyNcblx0ZW1wdHk6IChvKSAtPlxuXG5cdFx0Zm9yIHByb3Agb2Ygb1xuXG5cdFx0XHRkZWxldGUgb1twcm9wXSBpZiBvLmhhc093blByb3BlcnR5IHByb3BcblxuXHRcdG9cblxuXHQjIyNcblx0RW1wdGllcyBhbiBvYmplY3QuIERvZXNuJ3QgY2hlY2sgZm9yIGhhc093blByb3BlcnR5LCBzbyBpdCdzIGEgdGlueVxuXHRiaXQgZmFzdGVyLiBVc2UgaXQgZm9yIHBsYWluIG9iamVjdHMuXG5cdCMjI1xuXHRmYXN0RW1wdHk6IChvKSAtPlxuXG5cdFx0ZGVsZXRlIG9bcHJvcGVydHldIGZvciBwcm9wZXJ0eSBvZiBvXG5cblx0XHRvXG5cblx0IyMjXG5cdE92ZXJyaWRlcyB2YWx1ZXMgZm9tciBgbmV3VmFsdWVzYCBvbiBgYmFzZWAsIGFzIGxvbmcgYXMgdGhleVxuXHRhbHJlYWR5IGV4aXN0IGluIGJhc2UuXG5cdCMjI1xuXHRvdmVycmlkZU9udG86IChiYXNlLCBuZXdWYWx1ZXMpIC0+XG5cblx0XHRyZXR1cm4gYmFzZSBpZiBub3QgQGlzQmFyZU9iamVjdChuZXdWYWx1ZXMpIG9yIG5vdCBAaXNCYXJlT2JqZWN0KGJhc2UpXG5cblx0XHRmb3Iga2V5LCBvbGRWYWwgb2YgYmFzZVxuXG5cdFx0XHRuZXdWYWwgPSBuZXdWYWx1ZXNba2V5XVxuXG5cdFx0XHRjb250aW51ZSBpZiBuZXdWYWwgaXMgdW5kZWZpbmVkXG5cblx0XHRcdGlmIHR5cGVvZiBuZXdWYWwgaXNudCAnb2JqZWN0JyBvciBAaXNJbnN0YW5jZSBuZXdWYWxcblxuXHRcdFx0XHRiYXNlW2tleV0gPSBAY2xvbmUgbmV3VmFsXG5cblx0XHRcdCMgbmV3VmFsIGlzIGEgcGxhaW4gb2JqZWN0XG5cdFx0XHRlbHNlXG5cblx0XHRcdFx0aWYgdHlwZW9mIG9sZFZhbCBpc250ICdvYmplY3QnIG9yIEBpc0luc3RhbmNlIG9sZFZhbFxuXG5cdFx0XHRcdFx0YmFzZVtrZXldID0gQGNsb25lIG5ld1ZhbFxuXG5cdFx0XHRcdGVsc2VcblxuXHRcdFx0XHRcdEBvdmVycmlkZU9udG8gb2xkVmFsLCBuZXdWYWxcblx0XHRiYXNlXG5cblx0IyMjXG5cdFRha2VzIGEgY2xvbmUgb2YgJ2Jhc2UnIGFuZCBydW5zICNvdmVycmlkZU9udG8gb24gaXRcblx0IyMjXG5cdG92ZXJyaWRlOiAoYmFzZSwgbmV3VmFsdWVzKSAtPlxuXG5cdFx0QG92ZXJyaWRlT250byBAY2xvbmUoYmFzZSksIG5ld1ZhbHVlc1xuXG5cdGFwcGVuZDogKGJhc2UsIHRvQXBwZW5kKSAtPlxuXG5cdFx0QGFwcGVuZE9udG8gQGNsb25lKGJhc2UpLCB0b0FwcGVuZFxuXG5cdCMgRGVlcCBhcHBlbmRzIHZhbHVlcyBmcm9tIGB0b0FwcGVuZGAgdG8gYGJhc2VgXG5cdGFwcGVuZE9udG86IChiYXNlLCB0b0FwcGVuZCkgLT5cblxuXHRcdHJldHVybiBiYXNlIGlmIG5vdCBAaXNCYXJlT2JqZWN0KHRvQXBwZW5kKSBvciBub3QgQGlzQmFyZU9iamVjdChiYXNlKVxuXG5cdFx0Zm9yIG93biBrZXksIG5ld1ZhbCBvZiB0b0FwcGVuZFxuXG5cdFx0XHRjb250aW51ZSB1bmxlc3MgbmV3VmFsIGlzbnQgdW5kZWZpbmVkXG5cblx0XHRcdGlmIHR5cGVvZiBuZXdWYWwgaXNudCAnb2JqZWN0JyBvciBAaXNJbnN0YW5jZSBuZXdWYWxcblxuXHRcdFx0XHRiYXNlW2tleV0gPSBuZXdWYWxcblxuXHRcdFx0ZWxzZVxuXG5cdFx0XHRcdCMgbmV3VmFsIGlzIGEgYmFyZSBvYmplY3RcblxuXHRcdFx0XHRvbGRWYWwgPSBiYXNlW2tleV1cblxuXHRcdFx0XHRpZiB0eXBlb2Ygb2xkVmFsIGlzbnQgJ29iamVjdCcgb3IgQGlzSW5zdGFuY2Ugb2xkVmFsXG5cblx0XHRcdFx0XHRiYXNlW2tleV0gPSBAY2xvbmUgbmV3VmFsXG5cblx0XHRcdFx0ZWxzZVxuXG5cdFx0XHRcdFx0QGFwcGVuZE9udG8gb2xkVmFsLCBuZXdWYWxcblxuXHRcdGJhc2VcblxuXHQjIEdyb3Vwc1xuXHRncm91cFByb3BzOiAob2JqLCBncm91cHMpIC0+XG5cblx0XHRncm91cGVkID0ge31cblxuXHRcdGZvciBuYW1lLCBkZWZzIG9mIGdyb3Vwc1xuXG5cdFx0XHRncm91cGVkW25hbWVdID0ge31cblxuXHRcdGdyb3VwZWRbJ3Jlc3QnXSA9IHt9XG5cblx0XHRgdG9wOiAvL2Bcblx0XHRmb3Iga2V5LCB2YWwgb2Ygb2JqXG5cblx0XHRcdHNob3VsZEFkZCA9IG5vXG5cblx0XHRcdGZvciBuYW1lLCBkZWZzIG9mIGdyb3Vwc1xuXG5cdFx0XHRcdHVubGVzcyBBcnJheS5pc0FycmF5IGRlZnNcblxuXHRcdFx0XHRcdGRlZnMgPSBbZGVmc11cblxuXHRcdFx0XHRmb3IgZGVmIGluIGRlZnNcblxuXHRcdFx0XHRcdGlmIHR5cGVvZiBkZWYgaXMgJ3N0cmluZydcblxuXHRcdFx0XHRcdFx0aWYga2V5IGlzIGRlZlxuXG5cdFx0XHRcdFx0XHRcdHNob3VsZEFkZCA9IHllc1xuXG5cdFx0XHRcdFx0ZWxzZSBpZiBkZWYgaW5zdGFuY2VvZiBSZWdFeHBcblxuXHRcdFx0XHRcdFx0aWYgZGVmLnRlc3Qga2V5XG5cblx0XHRcdFx0XHRcdFx0c2hvdWxkQWRkID0geWVzXG5cblx0XHRcdFx0XHRlbHNlIGlmIGRlZiBpbnN0YW5jZW9mIEZ1bmN0aW9uXG5cblx0XHRcdFx0XHRcdGlmIGRlZiBrZXlcblxuXHRcdFx0XHRcdFx0XHRzaG91bGRBZGQgPSB5ZXNcblxuXHRcdFx0XHRcdGVsc2VcblxuXHRcdFx0XHRcdFx0dGhyb3cgRXJyb3IgJ0dyb3VwIGRlZmluaXRpb25zIG11c3QgZWl0aGVyXG5cdFx0XHRcdFx0XHRiZSBzdHJpbmdzLCByZWdleGVzLCBvciBmdW5jdGlvbnMuJ1xuXG5cdFx0XHRcdFx0aWYgc2hvdWxkQWRkXG5cblx0XHRcdFx0XHRcdGdyb3VwZWRbbmFtZV1ba2V5XSA9IHZhbFxuXG5cdFx0XHRcdFx0XHRgY29udGludWUgdG9wYFxuXG5cdFx0XHRncm91cGVkWydyZXN0J11ba2V5XSA9IHZhbFxuXG5cdFx0Z3JvdXBlZCIsIm1vZHVsZS5leHBvcnRzID1cclxuXHJcblx0IyBwYWRzIGEgbnVtYmVyIHdpdGggbGVhZGluZyB6ZXJvZXNcclxuXHQjXHJcblx0IyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMDA3Mzc4OC82MDc5OTdcclxuXHRwYWQ6IChuLCB3aWR0aCwgeiA9ICcwJykgLT5cclxuXHJcblx0XHRuID0gbiArICcnXHJcblxyXG5cdFx0aWYgbi5sZW5ndGggPj0gd2lkdGhcclxuXHJcblx0XHRcdG5cclxuXHJcblx0XHRlbHNlXHJcblxyXG5cdFx0XHRuZXcgQXJyYXkod2lkdGggLSBuLmxlbmd0aCArIDEpLmpvaW4oeikgKyBuIiwibW9kdWxlLmV4cG9ydHMgPSB1dGlsYSA9XG5cblx0YXJyYXk6IHJlcXVpcmUgJy4vYXJyYXknXG5cdGNsYXNzaWM6IHJlcXVpcmUgJy4vY2xhc3NpYydcblx0b2JqZWN0OiByZXF1aXJlICcuL29iamVjdCdcblx0c3RyaW5nOiByZXF1aXJlICcuL3N0cmluZyciLCJtb2R1bGUuZXhwb3J0cyA9IGNvbW1vbiA9XG5cblx0IyMjXG5cdENoZWNrcyB0byBzZWUgaWYgbyBpcyBhbiBvYmplY3QsIGFuZCBpdCBpc24ndCBhbiBpbnN0YW5jZVxuXHRvZiBzb21lIGNsYXNzLlxuXHQjIyNcblx0aXNCYXJlT2JqZWN0OiAobykgLT5cblxuXHRcdGlmIG8/IGFuZCBvLmNvbnN0cnVjdG9yIGlzIE9iamVjdFxuXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXG5cdFx0ZmFsc2VcblxuXHQjIyNcblx0UmV0dXJucyB0eXBlIG9mIGFuIG9iamVjdCwgaW5jbHVkaW5nOlxuXHR1bmRlZmluZWQsIG51bGwsIHN0cmluZywgbnVtYmVyLCBhcnJheSxcblx0YXJndW1lbnRzLCBlbGVtZW50LCB0ZXh0bm9kZSwgd2hpdGVzcGFjZSwgYW5kIG9iamVjdFxuXHQjIyNcblx0dHlwZU9mOiAoaXRlbSkgLT5cblxuXHRcdHJldHVybiAnbnVsbCcgaWYgaXRlbSBpcyBudWxsXG5cblx0XHRyZXR1cm4gdHlwZW9mIGl0ZW0gaWYgdHlwZW9mIGl0ZW0gaXNudCAnb2JqZWN0J1xuXG5cdFx0cmV0dXJuICdhcnJheScgaWYgQXJyYXkuaXNBcnJheSBpdGVtXG5cblx0XHQjIEZyb20gTW9vVG9vbHNcblx0XHQjIC0gZG8gd2UgZXZlbiBuZWVkIHRoaXM/XG5cdFx0aWYgaXRlbS5ub2RlTmFtZVxuXG5cdFx0XHRpZiBpdGVtLm5vZGVUeXBlIGlzIDEgdGhlbiByZXR1cm4gJ2VsZW1lbnQnXG5cdFx0XHRpZiBpdGVtLm5vZGVUeXBlIGlzIDMgdGhlbiByZXR1cm4gKC9cXFMvKS50ZXN0KGl0ZW0ubm9kZVZhbHVlKSA/ICd0ZXh0bm9kZScgOiAnd2hpdGVzcGFjZSdcblxuXHRcdGVsc2UgaWYgdHlwZW9mIGl0ZW0ubGVuZ3RoIGlzICdudW1iZXInXG5cblx0XHRcdGlmIGl0ZW0uY2FsbGVlIHRoZW4gcmV0dXJuICdhcmd1bWVudHMnXG5cblx0XHRyZXR1cm4gdHlwZW9mIGl0ZW1cblxuXHQjIERlZXAgY2xvbmUgb2YgYW55IHZhcmlhYmxlLlxuXHQjIEZyb20gTW9vVG9vbHNcblx0Y2xvbmU6IChpdGVtLCBpbmNsdWRlUHJvdG90eXBlID0gZmFsc2UpIC0+XG5cblx0XHRzd2l0Y2ggY29tbW9uLnR5cGVPZiBpdGVtXG5cblx0XHRcdHdoZW4gJ2FycmF5JyB0aGVuIHJldHVybiBjb21tb24uX2Nsb25lQXJyYXkgaXRlbSwgaW5jbHVkZVByb3RvdHlwZVxuXG5cdFx0XHR3aGVuICdvYmplY3QnIHRoZW4gcmV0dXJuIGNvbW1vbi5fY2xvbmVPYmplY3QgaXRlbSwgaW5jbHVkZVByb3RvdHlwZVxuXG5cdFx0XHRlbHNlIHJldHVybiBpdGVtXG5cblx0IyMjXG5cdERlZXAgY2xvbmUgb2YgYW4gb2JqZWN0LlxuXHRGcm9tIE1vb1Rvb2xzXG5cdCMjI1xuXHRfY2xvbmVPYmplY3Q6IChvLCBpbmNsdWRlUHJvdG90eXBlID0gZmFsc2UpIC0+XG5cblx0XHRpZiBjb21tb24uaXNCYXJlT2JqZWN0IG9cblxuXHRcdFx0Y2xvbmUgPSB7fVxuXG5cdFx0XHRmb3Iga2V5IG9mIG9cblxuXHRcdFx0XHRjbG9uZVtrZXldID0gY29tbW9uLmNsb25lIG9ba2V5XSwgaW5jbHVkZVByb3RvdHlwZVxuXG5cdFx0XHRyZXR1cm4gY2xvbmVcblxuXHRcdGVsc2VcblxuXHRcdFx0cmV0dXJuIG8gdW5sZXNzIGluY2x1ZGVQcm90b3R5cGVcblxuXHRcdFx0cmV0dXJuIG8gaWYgbyBpbnN0YW5jZW9mIEZ1bmN0aW9uXG5cblx0XHRcdGNsb25lID0gT2JqZWN0LmNyZWF0ZSBvLmNvbnN0cnVjdG9yLnByb3RvdHlwZVxuXG5cdFx0XHRmb3Iga2V5IG9mIG9cblxuXHRcdFx0XHRpZiBvLmhhc093blByb3BlcnR5IGtleVxuXG5cdFx0XHRcdFx0Y2xvbmVba2V5XSA9IGNvbW1vbi5jbG9uZSBvW2tleV0sIGluY2x1ZGVQcm90b3R5cGVcblxuXHRcdFx0Y2xvbmVcblxuXHQjIyNcblx0RGVlcCBjbG9uZSBvZiBhbiBhcnJheS5cblx0RnJvbSBNb29Ub29sc1xuXHQjIyNcblx0X2Nsb25lQXJyYXk6IChhLCBpbmNsdWRlUHJvdG90eXBlID0gZmFsc2UpIC0+XG5cblx0XHRpID0gYS5sZW5ndGhcblxuXHRcdGNsb25lID0gbmV3IEFycmF5IGlcblxuXHRcdHdoaWxlIGktLVxuXG5cdFx0XHRjbG9uZVtpXSA9IGNvbW1vbi5jbG9uZSBhW2ldLCBpbmNsdWRlUHJvdG90eXBlXG5cblx0XHRjbG9uZSIsInJlcXVpcmUgJy4vX3ByZXBhcmUnXG5cbmFycmF5ID0gbW9kICdhcnJheSdcblxudGVzdCAnZnJvbScsIC0+XG5cblx0YXJyYXkuZnJvbShbMV0pLnNob3VsZC5iZS5hbi5pbnN0YW5jZU9mIEFycmF5XG5cdGFycmF5LmZyb20oWzFdKVswXS5zaG91bGQuZXF1YWwgMVxuXG4jIHRlc3QgJ2Nsb25lJywgLT5cblxuIyBcdGEgPSBbMCwgMSwgMl1cblxuIyBcdGIgPSBhcnJheS5jbG9uZSBhXG5cbiMgXHRiWzBdLnNob3VsZC5lcXVhbCAwXG4jIFx0YlsxXS5zaG91bGQuZXF1YWwgMVxuXG4jIFx0YlswXSA9IDNcblxuIyBcdGFbMF0uc2hvdWxkLmVxdWFsIDBcblxudGVzdCAncGx1Y2snLCAtPlxuXG5cdGEgPSBbMCwgMSwgMiwgM11cblxuXHRhZnRlciA9IGFycmF5LnBsdWNrIGEsIDFcblxuXHRhZnRlci5sZW5ndGguc2hvdWxkLmVxdWFsIDNcblxuXHRhZnRlclswXS5zaG91bGQuZXF1YWwgMFxuXHRhZnRlclsxXS5zaG91bGQuZXF1YWwgMlxuXHRhZnRlclsyXS5zaG91bGQuZXF1YWwgM1xuXHRhZnRlci5zaG91bGQuZXF1YWwgYVxuXG50ZXN0ICdwbHVja011bHRpcGxlJywgLT5cblxuXHRhID0gWzAsIDEsIDIsIDMsIDQsIDUsIDZdXG5cblx0YXJyYXkucGx1Y2tNdWx0aXBsZSBhLCBbMCwgNCwgMiwgNl1cblxuXHRhLmxlbmd0aC5zaG91bGQuZXF1YWwgM1xuXHRhWzBdLnNob3VsZC5lcXVhbCAxXG5cdGFbMV0uc2hvdWxkLmVxdWFsIDNcblx0YVsyXS5zaG91bGQuZXF1YWwgNVxuXG50ZXN0ICdwbHVja0l0ZW0nLCAtPlxuXG5cdGEgPSBbMCwgMSwgMiwgMywgMiwgNCwgMl1cblxuXHRhcnJheS5wbHVja0l0ZW0gYSwgMlxuXG5cdGFbMF0uc2hvdWxkLmVxdWFsIDBcblx0YVsxXS5zaG91bGQuZXF1YWwgMVxuXHRhWzJdLnNob3VsZC5lcXVhbCAzXG5cdGFbM10uc2hvdWxkLmVxdWFsIDRcblxuXHRhcnJheS5wbHVja0l0ZW0oWzFdLCAyKS5sZW5ndGguc2hvdWxkLmVxdWFsIDFcblxuXG50ZXN0ICdwbHVja09uZUl0ZW0nLCAtPlxuXG5cdGEgPSBbMCwgMSwgMiwgMywgMiwgNCwgMl1cblxuXHRhcnJheS5wbHVja09uZUl0ZW0gYSwgMlxuXG5cdGFbMF0uc2hvdWxkLmVxdWFsIDBcblx0YVsxXS5zaG91bGQuZXF1YWwgMVxuXHRhWzJdLnNob3VsZC5lcXVhbCAzXG5cdGFbM10uc2hvdWxkLmVxdWFsIDJcblx0YVs0XS5zaG91bGQuZXF1YWwgNFxuXHRhWzVdLnNob3VsZC5lcXVhbCAyXG5cblx0YSA9IFsxLCAyXVxuXG5cdGFycmF5LnBsdWNrT25lSXRlbSBhLCAxXG5cblx0YS5sZW5ndGguc2hvdWxkLmVxdWFsIDFcblx0YVswXS5zaG91bGQuZXF1YWwgMlxuXG5cdGFycmF5LnBsdWNrT25lSXRlbShbXSwgMSkubGVuZ3RoLnNob3VsZC5lcXVhbCAwXG5cblx0YXJyYXkucGx1Y2tPbmVJdGVtKFsxXSwgMikubGVuZ3RoLnNob3VsZC5lcXVhbCAxXG5cbnRlc3QgJ3BsY3VrQnlDYWxsYmFjaycsIC0+XG5cblx0YSA9IFswLCAxLCAyLCAzXVxuXG5cdGFycmF5LnBsdWNrQnlDYWxsYmFjayBhLCAodmFsLCBpKSAtPlxuXG5cdFx0cmV0dXJuIHllcyBpZiB2YWwgaXMgMlxuXG5cdFx0cmV0dXJuIG5vXG5cblx0YVswXS5zaG91bGQuZXF1YWwgMFxuXHRhWzFdLnNob3VsZC5lcXVhbCAxXG5cdGFbMl0uc2hvdWxkLmVxdWFsIDNcblxudGVzdCAnaW5qZWN0QnlDYWxsYmFjaycsIC0+XG5cblx0c2hvdWxkSW5qZWN0ID0gKHZhbEEsIHZhbEIsIHRvSW5qZWN0KSAtPlxuXG5cdFx0dW5sZXNzIHZhbEE/XG5cblx0XHRcdHJldHVybiB5ZXMgaWYgdG9JbmplY3QgPD0gdmFsQlxuXG5cdFx0XHRyZXR1cm4gbm9cblxuXHRcdHVubGVzcyB2YWxCP1xuXG5cdFx0XHRyZXR1cm4geWVzIGlmIHZhbEEgPD0gdG9JbmplY3RcblxuXHRcdFx0cmV0dXJuIG5vXG5cblx0XHRyZXR1cm4geWVzIGlmIHZhbEEgPD0gdG9JbmplY3QgPD0gdmFsQlxuXG5cdFx0cmV0dXJuIG5vXG5cblx0YSA9IFswLjUsIDEsIDIuNSwgMi41LCAyLjc1LCAyLjc1LCAzXVxuXG5cdGFycmF5LmluamVjdEJ5Q2FsbGJhY2sgYSwgMCwgc2hvdWxkSW5qZWN0XG5cblx0YVswXS5zaG91bGQuZXF1YWwgMFxuXHRhWzFdLnNob3VsZC5lcXVhbCAwLjVcblx0YVs3XS5zaG91bGQuZXF1YWwgM1xuXG5cdGEgPSBbMC41LCAxLCAyLjUsIDIuNSwgMi43NSwgMi43NSwgM11cblxuXHRhcnJheS5pbmplY3RCeUNhbGxiYWNrIGEsIDIuNywgc2hvdWxkSW5qZWN0XG5cblx0YVswXS5zaG91bGQuZXF1YWwgMC41XG5cdGFbNF0uc2hvdWxkLmVxdWFsIDIuN1xuXHRhWzVdLnNob3VsZC5lcXVhbCAyLjc1XG5cdGFbN10uc2hvdWxkLmVxdWFsIDNcblxuXHRhID0gWzAuNSwgMSwgMi41LCAyLjUsIDIuNzUsIDIuNzUsIDNdXG5cblx0YXJyYXkuaW5qZWN0QnlDYWxsYmFjayBhLCAzLjIsIHNob3VsZEluamVjdFxuXG5cdGFbMF0uc2hvdWxkLmVxdWFsIDAuNVxuXHRhWzRdLnNob3VsZC5lcXVhbCAyLjc1XG5cdGFbNl0uc2hvdWxkLmVxdWFsIDNcblx0YVs3XS5zaG91bGQuZXF1YWwgMy4yIl19